<!DOCTYPE html>
<html lang="en" class="bg-gray-100 text-gray-800">
<head>
  <meta charset="UTF-8" />
  <title>Fireflies Speaker Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    canvas {
      max-height: 240px !important;
    }
    .nav-tab.active {
      background-color: #3B82F6;
      color: white;
    }
  </style>
</head>
<body class="p-4 max-w-7xl mx-auto space-y-8">

  <!-- Navigation -->
  <nav class="flex justify-between items-center bg-white shadow px-6 py-4 rounded">
    <h1 class="text-2xl font-bold">üî• Fireflies Team Dashboard</h1>
    <div class="space-x-3">
      <button class="nav-tab px-4 py-2 rounded font-semibold" onclick="switchTab('overview')">Overview</button>
      <button class="nav-tab px-4 py-2 rounded font-semibold" onclick="switchTab('speakers')">Speakers</button>
      <button class="nav-tab px-4 py-2 rounded font-semibold" onclick="switchTab('meetings')">Meetings</button>
      <button class="nav-tab px-4 py-2 rounded font-semibold" onclick="switchTab('compliance')">Compliance</button>
    </div>
  </nav>

  <!-- Date Filter -->
  <form id="filterForm" class="flex flex-wrap justify-center gap-6 items-end">
    <div>
      <label class="block text-sm font-semibold mb-1">Start Date</label>
      <input type="date" id="startDate" class="border px-3 py-1 rounded-md" />
    </div>
    <div>
      <label class="block text-sm font-semibold mb-1">End Date</label>
      <input type="date" id="endDate" class="border px-3 py-1 rounded-md" />
    </div>
    <button type="submit" class="bg-blue-600 text-white px-5 py-2 rounded-md">Apply</button>
  </form>

  <!-- Overview Tab -->
  <section id="overview" class="tab-content">
    <h2 class="text-xl font-bold mb-4">üìä Team Contribution Overview</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-white p-4 rounded shadow flex flex-col items-center">
        <h3 class="font-semibold mb-2">Stacked Words</h3>
        <canvas id="stackedWordsChart"></canvas>
      </div>
      <div class="bg-white p-4 rounded shadow flex flex-col items-center">
        <h3 class="font-semibold mb-2">Contribution Share</h3>
        <canvas id="contributionChart"></canvas>
      </div>
      <div class="bg-white p-4 rounded shadow flex flex-col items-center">
        <h3 class="font-semibold mb-2">Total Words Over Time</h3>
        <canvas id="wordTrendChart"></canvas>
      </div>
    </div>
  </section>

  <!-- Speakers Tab -->
  <section id="speakers" class="tab-content hidden">
    <h2 class="text-xl font-bold mb-4">üßë‚Äçüíº Speaker Breakdown</h2>
    <!-- This section can later include avg sentence count, speaking time, etc. -->
    <p class="text-gray-600">Coming soon: Individual speaker drill-downs and trends</p>
  </section>

  <!-- Meetings Tab -->
  <section id="meetings" class="tab-content hidden">
    <h2 class="text-xl font-bold mb-4">üìÖ Meeting Logs</h2>
    <div class="bg-white p-4 rounded shadow overflow-x-auto">
      <table class="min-w-full border border-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="border px-4 py-2 text-left">Meeting ID</th>
            <th class="border px-4 py-2 text-left">Speakers</th>
            <th class="border px-4 py-2 text-left">Words</th>
            <th class="border px-4 py-2 text-left">Filler Words</th>
            <th class="border px-4 py-2 text-left">Avg. Contribution %</th>
            <th class="border px-4 py-2 text-center">Action</th>
          </tr>
        </thead>
        <tbody id="meetingTableBody"></tbody>
      </table>
    </div>
  </section>

  <!-- Compliance Tab -->
  <section id="compliance" class="tab-content hidden">
    <h2 class="text-xl font-bold mb-4">‚úÖ Compliance Scores</h2>
    <p class="text-gray-600 mb-2">Coming soon: Heatmaps & guideline adherence matrix.</p>
    <!-- Placeholder for future chart -->
    <div class="bg-white p-4 rounded shadow flex flex-col items-center">
      <h3 class="font-semibold mb-2">Speaker Compliance Scores</h3>
      <canvas id="complianceChart"></canvas>
    </div>
  </section>

  <script>
    const tabs = document.querySelectorAll(".nav-tab");
    const sections = document.querySelectorAll(".tab-content");

    function switchTab(id) {
      tabs.forEach(tab => tab.classList.remove("active"));
      sections.forEach(sec => sec.classList.add("hidden"));
      document.getElementById(id).classList.remove("hidden");
      event.target.classList.add("active");
    }

    // Insert your previous JS code for data loading here
    // Use Chart.js to populate: stackedWordsChart, contributionChart, wordTrendChart, complianceChart
    // Populate meeting table same as before

    // Example only: Chart setup placeholder
    const ctx = document.getElementById("wordTrendChart").getContext("2d");
    new Chart(ctx, {
      type: "line",
      data: {
        labels: ["Day 1", "Day 2", "Day 3"],
        datasets: [{
          label: "Total Words",
          data: [2000, 3000, 2500],
          fill: false,
          borderColor: "#3B82F6"
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    });
  </script>

</body>
</html>
